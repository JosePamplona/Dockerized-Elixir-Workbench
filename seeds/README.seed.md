<!-- markdownlint-disable MD028 -->
<!-- markdownlint-disable MD034 -->
# %{project_name}

![v0.0.0](https://img.shields.io/badge/version-0.0.0-white.svg?style=flat-square&color=lightgray)
[![Last Updated](https://img.shields.io/github/last-commit/%{repo_badge}.svg?style=flat-square)](%{repo_url}/commits/main)

**%{project_name}** is a web application that offers a %{api_type} API for its usage. It also incorporates various development and monitoring tools available only for development deployments.

## API endpoints

<!-- tabs-open -->

### Development

| Service | URL |
| --:     | :-- |
<!-- workbench-html open -->
| Web page | <http://localhost:%{port}> |
<!-- workbench-html close -->
<!-- workbench-healthcheck open -->
| Healthcheck endpoint | <http://localhost:%{port}/health> |
<!-- workbench-healthcheck close -->
<!-- workbench-graphql open -->
| GraphQL endpoint & IDE | <http://localhost:%{port}/graphiql> |
<!-- workbench-graphql close -->
<!-- workbench-rest open -->
| API-REST endpoints | <http://localhost:%{port}/api/v1> |
| API-REST documentation | <http://localhost:%{port}/dev/swagger> |
<!-- workbench-rest close -->
| Mailbox | <http://localhost:%{port}/dev/mailbox> |
| Phoenix LiveDashboard | <http://localhost:%{port}/dev/dashboard> |
| Project documentation | <http://localhost:%{port}/dev/docs> |

### Production

| Service | URL |
| --:     | :-- |
<!-- workbench-html open -->
| Web page | <http://localhost:%{port}> |
<!-- workbench-html close -->
<!-- workbench-healthcheck open -->
| Healthcheck endpoint | <http://localhost:%{port}/health> |
<!-- workbench-healthcheck close -->
<!-- workbench-graphql open -->
| GraphQL endpoint | <http://localhost:%{port}/graphiql> |
<!-- workbench-graphql close -->
<!-- workbench-rest open -->
| API-REST endpoints | <http://localhost:%{port}/api/v1> |
<!-- workbench-rest close -->

<!-- tabs-close -->

## Start the server

1. In case you already have not, create a `.env` file in the elixir project source directory and write down the following content:

    <!-- workbench-env open -->

    <!-- workbench-env close -->

    | Variable           | Description |
    | :--                | :--         |
    | SECRET_KEY_BASE    | Use your own, it can be generated by running `mix phx.gen.secret`. |
    <!-- workbench-auth0 open -->
    | AUTH0_DOMAIN       | Auth0 application domain identifier. |
    | AUTH0_CLIENT_ID    | Auth0 application client id identifier. |
    | AUTH0_ISSUER       | Auth0 tenant URL to connect to. |
    | AUTH0_AUDIENCE     | Auth0 application API identifier. |
    <!-- workbench-auth0 close -->
    <!-- workbench-stripe open -->
    | STRIPE_SECRET      | Stripe account's secret test key. |
    <!-- workbench-stripe close -->

1. Run `export $(grep -v '^#' .env | xargs)` to export these enviroment variables.
1. Run `mix setup` to install and setup dependencies and create database.
1. Start server with `mix phx.server` or inside IEx with `iex -S mix phx.server`.
  The available endpoints will depend on each different enviroment.

## Test the code

1. Run `mix test` in order to run automated tests.

    Alternatively, you can run `mix test --cover` in order to run automated test and check its coverage. Also you can set options like `--trace`, `--seed`, `--max-failures`, etc. (Full task [test](https://hexdocs.pm/mix/Mix.Tasks.Test.html) documentation).

## Learn more

> ### Phoenix
>
> - Official website: https://www.phoenixframework.org/
> - Guides: https://hexdocs.pm/phoenix/overview.html
> - Forum: https://elixirforum.com/c/phoenix-forum
> - Source: https://github.com/phoenixframework/phoenix
> - Deps used:
>   - credo: https://hexdocs.pm/credo
>   - swoosh: https://hexdocs.pm/swoosh
>   - ex_doc: https://hexdocs.pm/ex_doc
>   - phoenix_live_dashboard: https://hexdocs.pm/phoenix_live_dashboard
>   - flame_on: https://hexdocs.pm/flame_on

<!-- workbench-graphql open -->
> ### Graphql
>
> - Official website: https://graphql.org/learn
> - Graphiql IDE: https://github.com/graphql/graphiql
> - Deps used:
>   - absinthe: https://hex.pm/packages/absinthe
>   - absinthe_plug: https://hex.pm/packages/absinthe_plug
>   - absinthe_error_payload: https://hex.pm/packages/absinthe_error_payload

<!-- workbench-graphql close -->
<!-- workbench-rest open -->
> ### Open API
>
> - Official website: https://swagger.io/specification/
> - Deps used:
>   - open_api_spex: https://hex.pm/packages/open_api_spex

<!-- workbench-rest close -->
<!-- workbench-auth0 open -->
> ### Auth0
>
> - Documentation: https://auth0.com/docs
> - Management API Docs: https://auth0.com/docs/api/management/v2/introduction
> - Authentication API Docs: https://auth0.com/docs/api/authentication
> - JSON Web Tokens: https://jwt.io/
> - Auth0 SPA SDK: https://auth0.github.io/auth0-spa-js/classes/Auth0Client.html
> - Deps used:
>   - auth0_jwks: https://hex.pm/packages/auth0_jwks

<!-- workbench-auth0 close -->
<!-- workbench-stripe open -->
> ### Stripe
>
> - Official website: https://docs.stripe.com/
> - Stripe Development: https://docs.stripe.com/development
> - Stripe API Docs: https://docs.stripe.com/api
> - Stripe JS Docs: https://docs.stripe.com/api
> - Stripe JS github: https://github.com/stripe/stripe-js
> - React reference: https://docs.stripe.com/stripe-js/react
> - Testing Cards: https://docs.stripe.com/testing?testing-method=payment-methods#cards
> - Deps used:
>   - stripity_stripe: https://hex.pm/packages/stripity_stripe

<!-- workbench-stripe close -->
<!-- workbench-coveralls open -->
> ### Coveralls
>
> - Official website: https://docs.coveralls.io/
> - Deps used:
>   - excoveralls: https://hex.pm/packages/excoveralls

<!-- workbench-coveralls close -->